// https://leetcode.com/problems/maximum-number-of-events-that-can-be-attended-ii/

pub struct Solution;

// Linear DP with Array of Structs sorting and linear search
// impl Solution {
//     pub fn max_value(events: Vec<Vec<i32>>, k: i32) -> i32 {
//         // Step 1: We need to convert this into a Vec of Structs so we can sort by end time
//         struct Event {
//             start: i32,
//             end: i32,
//             value: i32,
//         }
//         let mut events = events
//             .into_iter()
//             .map(|e| Event {
//                 start: e[0],
//                 end: e[1],
//                 value: e[2],
//             })
//             .collect::<Vec<_>>();
//         events.sort_by_key(|e| e.end);
//         let events = events;
//         // Step 2: Dynamic programming
//         // dp[i][j] = max value of the first i events with j events attended
//         // dp[i][j] = max(dp[i - 1][j], dp[l][j - 1] + events[i].value)
//         // where l is the largest index such that events[k].end <= events[i].start
//         // We can use linear search to find l
//         let mut dp = vec![vec![0; k as usize + 1]; events.len()];
//         let mut max_k = 1;
//         dp[0][1] = events[0].value;
//         for i in 1..events.len() {
//             // Linear search backward for the first event that
//             // ends before the current event starts
//             if let Some(start) = events.iter().take(i).rposition(|e| e.end < events[i].start) {
//                 // There is an event that ends before the current event starts
//                 // We can use this event to get a better value
//                 max_k = std::cmp::min(max_k + 1, k);
//                 for j in 1..=max_k as usize {
//                     dp[i][j] = std::cmp::max(dp[i - 1][j], dp[start][j - 1] + events[i].value);
//                 }
//             } else {
//                 // There is no event that ends before the current event starts
//                 // We can only use the current event
//                 dp[i][1] = std::cmp::max(dp[i - 1][1], events[i].value);
//                 for j in 2..=max_k as usize {
//                     dp[i][j] = dp[i - 1][j];
//                 }
//             }
//         }
//         dp[events.len() - 1].iter().max().unwrap().clone()
//     }
// }

// Linear DP with Array of Structs sorting and binary search
impl Solution {
    pub fn max_value(events: Vec<Vec<i32>>, k: i32) -> i32 {
        // Step 1: We need to convert this into a Vec of Structs so we can sort by end time
        struct Event {
            start: i32,
            end: i32,
            value: i32,
        }
        let mut events = events
            .into_iter()
            .map(|e| Event {
                start: e[0],
                end: e[1],
                value: e[2],
            })
            .collect::<Vec<_>>();
        events.sort_by_key(|e| e.end);
        let events = events;
        // Step 2: Dynamic programming
        // dp[i][j] = max value of the first i events with j events attended
        // dp[i][j] = max(dp[i - 1][j], dp[l][j - 1] + events[i].value)
        // where l is the largest index such that events[k].end <= events[i].start
        // We can use binary search to find l
        let mut dp = vec![vec![0; k as usize + 1]; events.len()];
        let mut max_k = 1;
        dp[0][1] = events[0].value;
        for i in 1..events.len() {
            // Binary search backward for the first event that
            // ends before the current event starts
            let mut start = 0;
            let mut end = i - 1;
            while start < end {
                let mid = (start + end + 1) / 2;
                if events[i].start - 1 < events[mid].end {
                    end = mid - 1;
                } else {
                    start = mid;
                }
            }
            if events[i].start > events[start].end {
                // There is an event that ends before the current event starts
                // We can use this event to get a better value
                max_k = std::cmp::min(max_k + 1, k);
                for j in 1..=max_k as usize {
                    dp[i][j] = std::cmp::max(dp[i - 1][j], dp[start][j - 1] + events[i].value);
                }
            } else if start > 0 && events[i].start > events[start - 1].end {
                // There is an event that ends before the current event starts
                // We can use this event to get a better value
                max_k = std::cmp::min(max_k + 1, k);
                for j in 1..=max_k as usize {
                    dp[i][j] = std::cmp::max(dp[i - 1][j], dp[start - 1][j - 1] + events[i].value);
                }
            } else {
                // There is no event that ends before the current event starts
                // We can only use the current event
                dp[i][1] = std::cmp::max(dp[i - 1][1], events[i].value);
                for j in 2..=max_k as usize {
                    dp[i][j] = dp[i - 1][j];
                }
            }
        }
        // dbg!(dp.clone());
        dp[events.len() - 1].iter().max().unwrap().clone()
    }
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn ex1() {
        assert_eq!(
            Solution::max_value(vec![vec![1, 2, 4], vec![3, 4, 3], vec![2, 3, 1]], 2),
            7
        );
    }

    #[test]
    fn ex2() {
        assert_eq!(
            Solution::max_value(vec![vec![1, 2, 4], vec![3, 4, 3], vec![2, 3, 10]], 2),
            10
        );
    }

    #[test]
    fn ex3() {
        assert_eq!(
            Solution::max_value(
                vec![vec![1, 1, 1], vec![2, 2, 2], vec![3, 3, 3], vec![4, 4, 4],],
                3
            ),
            9
        );
    }

    #[test]
    fn failing_case() {
        assert_eq!(
            Solution::max_value(
                vec![
                    vec![37, 78, 30],
                    vec![56, 95, 41],
                    vec![70, 82, 48],
                    vec![22, 94, 45],
                    vec![70, 87, 85],
                    vec![45, 74, 34],
                    vec![43, 77, 69],
                    vec![5, 70, 20],
                    vec![47, 74, 26],
                    vec![61, 64, 16],
                    vec![10, 81, 77],
                    vec![21, 26, 19],
                    vec![71, 92, 18],
                    vec![7, 77, 69],
                    vec![11, 45, 91],
                    vec![7, 78, 20],
                    vec![23, 70, 34],
                    vec![8, 80, 38],
                    vec![36, 61, 27]
                ],
                6,
            ),
            192,
        );
    }

    #[test]
    fn tle_case() {
        assert_eq!(
            Solution::max_value(
                vec![
                    vec![1, 1, 1],
                    vec![1, 2, 1],
                    vec![1, 3, 1],
                    vec![1, 4, 1],
                    vec![1, 5, 1],
                    vec![1, 6, 1],
                    vec![1, 7, 1],
                    vec![1, 8, 1],
                    vec![1, 9, 1],
                    vec![1, 10, 1],
                    vec![1, 11, 1],
                    vec![1, 12, 1],
                    vec![1, 13, 1],
                    vec![1, 14, 1],
                    vec![1, 15, 1],
                    vec![1, 16, 1],
                    vec![1, 17, 1],
                    vec![1, 18, 1],
                    vec![1, 19, 1],
                    vec![1, 20, 1],
                    vec![1, 21, 1],
                    vec![1, 22, 1],
                    vec![1, 23, 1],
                    vec![1, 24, 1],
                    vec![1, 25, 1],
                    vec![1, 26, 1],
                    vec![1, 27, 1],
                    vec![1, 28, 1],
                    vec![1, 29, 1],
                    vec![1, 30, 1],
                    vec![1, 31, 1],
                    vec![1, 32, 1],
                    vec![1, 33, 1],
                    vec![1, 34, 1],
                    vec![1, 35, 1],
                    vec![1, 36, 1],
                    vec![1, 37, 1],
                    vec![1, 38, 1],
                    vec![1, 39, 1],
                    vec![1, 40, 1],
                    vec![1, 41, 1],
                    vec![1, 42, 1],
                    vec![1, 43, 1],
                    vec![1, 44, 1],
                    vec![1, 45, 1],
                    vec![1, 46, 1],
                    vec![1, 47, 1],
                    vec![1, 48, 1],
                    vec![1, 49, 1],
                    vec![1, 50, 1],
                    vec![1, 51, 1],
                    vec![1, 52, 1],
                    vec![1, 53, 1],
                    vec![1, 54, 1],
                    vec![1, 55, 1],
                    vec![1, 56, 1],
                    vec![1, 57, 1],
                    vec![1, 58, 1],
                    vec![1, 59, 1],
                    vec![1, 60, 1],
                    vec![1, 61, 1],
                    vec![1, 62, 1],
                    vec![1, 63, 1],
                    vec![1, 64, 1],
                    vec![1, 65, 1],
                    vec![1, 66, 1],
                    vec![1, 67, 1],
                    vec![1, 68, 1],
                    vec![1, 69, 1],
                    vec![1, 70, 1],
                    vec![1, 71, 1],
                    vec![1, 72, 1],
                    vec![1, 73, 1],
                    vec![1, 74, 1],
                    vec![1, 75, 1],
                    vec![1, 76, 1],
                    vec![1, 77, 1],
                    vec![1, 78, 1],
                    vec![1, 79, 1],
                    vec![1, 80, 1],
                    vec![1, 81, 1],
                    vec![1, 82, 1],
                    vec![1, 83, 1],
                    vec![1, 84, 1],
                    vec![1, 85, 1],
                    vec![1, 86, 1],
                    vec![1, 87, 1],
                    vec![1, 88, 1],
                    vec![1, 89, 1],
                    vec![1, 90, 1],
                    vec![1, 91, 1],
                    vec![1, 92, 1],
                    vec![1, 93, 1],
                    vec![1, 94, 1],
                    vec![1, 95, 1],
                    vec![1, 96, 1],
                    vec![1, 97, 1],
                    vec![1, 98, 1],
                    vec![1, 99, 1],
                    vec![1, 100, 1],
                    vec![1, 101, 1],
                    vec![1, 102, 1],
                    vec![1, 103, 1],
                    vec![1, 104, 1],
                    vec![1, 105, 1],
                    vec![1, 106, 1],
                    vec![1, 107, 1],
                    vec![1, 108, 1],
                    vec![1, 109, 1],
                    vec![1, 110, 1],
                    vec![1, 111, 1],
                    vec![1, 112, 1],
                    vec![1, 113, 1],
                    vec![1, 114, 1],
                    vec![1, 115, 1],
                    vec![1, 116, 1],
                    vec![1, 117, 1],
                    vec![1, 118, 1],
                    vec![1, 119, 1],
                    vec![1, 120, 1],
                    vec![1, 121, 1],
                    vec![1, 122, 1],
                    vec![1, 123, 1],
                    vec![1, 124, 1],
                    vec![1, 125, 1],
                    vec![1, 126, 1],
                    vec![1, 127, 1],
                    vec![1, 128, 1],
                    vec![1, 129, 1],
                    vec![1, 130, 1],
                    vec![1, 131, 1],
                    vec![1, 132, 1],
                    vec![1, 133, 1],
                    vec![1, 134, 1],
                    vec![1, 135, 1],
                    vec![1, 136, 1],
                    vec![1, 137, 1],
                    vec![1, 138, 1],
                    vec![1, 139, 1],
                    vec![1, 140, 1],
                    vec![1, 141, 1],
                    vec![1, 142, 1],
                    vec![1, 143, 1],
                    vec![1, 144, 1],
                    vec![1, 145, 1],
                    vec![1, 146, 1],
                    vec![1, 147, 1],
                    vec![1, 148, 1],
                    vec![1, 149, 1],
                    vec![1, 150, 1],
                    vec![1, 151, 1],
                    vec![1, 152, 1],
                    vec![1, 153, 1],
                    vec![1, 154, 1],
                    vec![1, 155, 1],
                    vec![1, 156, 1],
                    vec![1, 157, 1],
                    vec![1, 158, 1],
                    vec![1, 159, 1],
                    vec![1, 160, 1],
                    vec![1, 161, 1],
                    vec![1, 162, 1],
                    vec![1, 163, 1],
                    vec![1, 164, 1],
                    vec![1, 165, 1],
                    vec![1, 166, 1],
                    vec![1, 167, 1],
                    vec![1, 168, 1],
                    vec![1, 169, 1],
                    vec![1, 170, 1],
                    vec![1, 171, 1],
                    vec![1, 172, 1],
                    vec![1, 173, 1],
                    vec![1, 174, 1],
                    vec![1, 175, 1],
                    vec![1, 176, 1],
                    vec![1, 177, 1],
                    vec![1, 178, 1],
                    vec![1, 179, 1],
                    vec![1, 180, 1],
                    vec![1, 181, 1],
                    vec![1, 182, 1],
                    vec![1, 183, 1],
                    vec![1, 184, 1],
                    vec![1, 185, 1],
                    vec![1, 186, 1],
                    vec![1, 187, 1],
                    vec![1, 188, 1],
                    vec![1, 189, 1],
                    vec![1, 190, 1],
                    vec![1, 191, 1],
                    vec![1, 192, 1],
                    vec![1, 193, 1],
                    vec![1, 194, 1],
                    vec![1, 195, 1],
                    vec![1, 196, 1],
                    vec![1, 197, 1],
                    vec![1, 198, 1],
                    vec![1, 199, 1],
                    vec![1, 200, 1],
                    vec![1, 201, 1],
                    vec![1, 202, 1],
                    vec![1, 203, 1],
                    vec![1, 204, 1],
                    vec![1, 205, 1],
                    vec![1, 206, 1],
                    vec![1, 207, 1],
                    vec![1, 208, 1],
                    vec![1, 209, 1],
                    vec![1, 210, 1],
                    vec![1, 211, 1],
                    vec![1, 212, 1],
                    vec![1, 213, 1],
                    vec![1, 214, 1],
                    vec![1, 215, 1],
                    vec![1, 216, 1],
                    vec![1, 217, 1],
                    vec![1, 218, 1],
                    vec![1, 219, 1],
                    vec![1, 220, 1],
                    vec![1, 221, 1],
                    vec![1, 222, 1],
                    vec![1, 223, 1],
                    vec![1, 224, 1],
                    vec![1, 225, 1],
                    vec![1, 226, 1],
                    vec![1, 227, 1],
                    vec![1, 228, 1],
                    vec![1, 229, 1],
                    vec![1, 230, 1],
                    vec![1, 231, 1],
                    vec![1, 232, 1],
                    vec![1, 233, 1],
                    vec![1, 234, 1],
                    vec![1, 235, 1],
                    vec![1, 236, 1],
                    vec![1, 237, 1],
                    vec![1, 238, 1],
                    vec![1, 239, 1],
                    vec![1, 240, 1],
                    vec![1, 241, 1],
                    vec![1, 242, 1],
                    vec![1, 243, 1],
                    vec![1, 244, 1],
                    vec![1, 245, 1],
                    vec![1, 246, 1],
                    vec![1, 247, 1],
                    vec![1, 248, 1],
                    vec![1, 249, 1],
                    vec![1, 250, 1],
                    vec![1, 251, 1],
                    vec![1, 252, 1],
                    vec![1, 253, 1],
                    vec![1, 254, 1],
                    vec![1, 255, 1],
                    vec![1, 256, 1],
                    vec![1, 257, 1],
                    vec![1, 258, 1],
                    vec![1, 259, 1],
                    vec![1, 260, 1],
                    vec![1, 261, 1],
                    vec![1, 262, 1],
                    vec![1, 263, 1],
                    vec![1, 264, 1],
                    vec![1, 265, 1],
                    vec![1, 266, 1],
                    vec![1, 267, 1],
                    vec![1, 268, 1],
                    vec![1, 269, 1],
                    vec![1, 270, 1],
                    vec![1, 271, 1],
                    vec![1, 272, 1],
                    vec![1, 273, 1],
                    vec![1, 274, 1],
                    vec![1, 275, 1],
                    vec![1, 276, 1],
                    vec![1, 277, 1],
                    vec![1, 278, 1],
                    vec![1, 279, 1],
                    vec![1, 280, 1],
                    vec![1, 281, 1],
                    vec![1, 282, 1],
                    vec![1, 283, 1],
                    vec![1, 284, 1],
                    vec![1, 285, 1],
                    vec![1, 286, 1],
                    vec![1, 287, 1],
                    vec![1, 288, 1],
                    vec![1, 289, 1],
                    vec![1, 290, 1],
                    vec![1, 291, 1],
                    vec![1, 292, 1],
                    vec![1, 293, 1],
                    vec![1, 294, 1],
                    vec![1, 295, 1],
                    vec![1, 296, 1],
                    vec![1, 297, 1],
                    vec![1, 298, 1],
                    vec![1, 299, 1],
                    vec![1, 300, 1],
                    vec![1, 301, 1],
                    vec![1, 302, 1],
                    vec![1, 303, 1],
                    vec![1, 304, 1],
                    vec![1, 305, 1],
                    vec![1, 306, 1],
                    vec![1, 307, 1],
                    vec![1, 308, 1],
                    vec![1, 309, 1],
                    vec![1, 310, 1],
                    vec![1, 311, 1],
                    vec![1, 312, 1],
                    vec![1, 313, 1],
                    vec![1, 314, 1],
                    vec![1, 315, 1],
                    vec![1, 316, 1],
                    vec![1, 317, 1],
                    vec![1, 318, 1],
                    vec![1, 319, 1],
                    vec![1, 320, 1],
                    vec![1, 321, 1],
                    vec![1, 322, 1],
                    vec![1, 323, 1],
                    vec![1, 324, 1],
                    vec![1, 325, 1],
                    vec![1, 326, 1],
                    vec![1, 327, 1],
                    vec![1, 328, 1],
                    vec![1, 329, 1],
                    vec![1, 330, 1],
                    vec![1, 331, 1],
                    vec![1, 332, 1],
                    vec![1, 333, 1],
                    vec![1, 334, 1],
                    vec![1, 335, 1],
                    vec![1, 336, 1],
                    vec![1, 337, 1],
                    vec![1, 338, 1],
                    vec![1, 339, 1],
                    vec![1, 340, 1],
                    vec![1, 341, 1],
                    vec![1, 342, 1],
                    vec![1, 343, 1],
                    vec![1, 344, 1],
                    vec![1, 345, 1],
                    vec![1, 346, 1],
                    vec![1, 347, 1],
                    vec![1, 348, 1],
                    vec![1, 349, 1],
                    vec![1, 350, 1],
                    vec![1, 351, 1],
                    vec![1, 352, 1],
                    vec![1, 353, 1],
                    vec![1, 354, 1],
                    vec![1, 355, 1],
                    vec![1, 356, 1],
                    vec![1, 357, 1],
                    vec![1, 358, 1],
                    vec![1, 359, 1],
                    vec![1, 360, 1],
                    vec![1, 361, 1],
                    vec![1, 362, 1],
                    vec![1, 363, 1],
                    vec![1, 364, 1],
                    vec![1, 365, 1],
                    vec![1, 366, 1],
                    vec![1, 367, 1],
                    vec![1, 368, 1],
                    vec![1, 369, 1],
                    vec![1, 370, 1],
                    vec![1, 371, 1],
                    vec![1, 372, 1],
                    vec![1, 373, 1],
                    vec![1, 374, 1],
                    vec![1, 375, 1],
                    vec![1, 376, 1],
                    vec![1, 377, 1],
                    vec![1, 378, 1],
                    vec![1, 379, 1],
                    vec![1, 380, 1],
                    vec![1, 381, 1],
                    vec![1, 382, 1],
                    vec![1, 383, 1],
                    vec![1, 384, 1],
                    vec![1, 385, 1],
                    vec![1, 386, 1],
                    vec![1, 387, 1],
                    vec![1, 388, 1],
                    vec![1, 389, 1],
                    vec![1, 390, 1],
                    vec![1, 391, 1],
                    vec![1, 392, 1],
                    vec![1, 393, 1],
                    vec![1, 394, 1],
                    vec![1, 395, 1],
                    vec![1, 396, 1],
                    vec![1, 397, 1],
                    vec![1, 398, 1],
                    vec![1, 399, 1],
                    vec![1, 400, 1],
                    vec![1, 401, 1],
                    vec![1, 402, 1],
                    vec![1, 403, 1],
                    vec![1, 404, 1],
                    vec![1, 405, 1],
                    vec![1, 406, 1],
                    vec![1, 407, 1],
                    vec![1, 408, 1],
                    vec![1, 409, 1],
                    vec![1, 410, 1],
                    vec![1, 411, 1],
                    vec![1, 412, 1],
                    vec![1, 413, 1],
                    vec![1, 414, 1],
                    vec![1, 415, 1],
                    vec![1, 416, 1],
                    vec![1, 417, 1],
                    vec![1, 418, 1],
                    vec![1, 419, 1],
                    vec![1, 420, 1],
                    vec![1, 421, 1],
                    vec![1, 422, 1],
                    vec![1, 423, 1],
                    vec![1, 424, 1],
                    vec![1, 425, 1],
                    vec![1, 426, 1],
                    vec![1, 427, 1],
                    vec![1, 428, 1],
                    vec![1, 429, 1],
                    vec![1, 430, 1],
                    vec![1, 431, 1],
                    vec![1, 432, 1],
                    vec![1, 433, 1],
                    vec![1, 434, 1],
                    vec![1, 435, 1],
                    vec![1, 436, 1],
                    vec![1, 437, 1],
                    vec![1, 438, 1],
                    vec![1, 439, 1],
                    vec![1, 440, 1],
                    vec![1, 441, 1],
                    vec![1, 442, 1],
                    vec![1, 443, 1],
                    vec![1, 444, 1],
                    vec![1, 445, 1],
                    vec![1, 446, 1],
                    vec![1, 447, 1],
                    vec![1, 448, 1],
                    vec![1, 449, 1],
                    vec![1, 450, 1],
                    vec![1, 451, 1],
                    vec![1, 452, 1],
                    vec![1, 453, 1],
                    vec![1, 454, 1],
                    vec![1, 455, 1],
                    vec![1, 456, 1],
                    vec![1, 457, 1],
                    vec![1, 458, 1],
                    vec![1, 459, 1],
                    vec![1, 460, 1],
                    vec![1, 461, 1],
                    vec![1, 462, 1],
                    vec![1, 463, 1],
                    vec![1, 464, 1],
                    vec![1, 465, 1],
                    vec![1, 466, 1],
                    vec![1, 467, 1],
                    vec![1, 468, 1],
                    vec![1, 469, 1],
                    vec![1, 470, 1],
                    vec![1, 471, 1],
                    vec![1, 472, 1],
                    vec![1, 473, 1],
                    vec![1, 474, 1],
                    vec![1, 475, 1],
                    vec![1, 476, 1],
                    vec![1, 477, 1],
                    vec![1, 478, 1],
                    vec![1, 479, 1],
                    vec![1, 480, 1],
                    vec![1, 481, 1],
                    vec![1, 482, 1],
                    vec![1, 483, 1],
                    vec![1, 484, 1],
                    vec![1, 485, 1],
                    vec![1, 486, 1],
                    vec![1, 487, 1],
                    vec![1, 488, 1],
                    vec![1, 489, 1],
                    vec![1, 490, 1],
                    vec![1, 491, 1],
                    vec![1, 492, 1],
                    vec![1, 493, 1],
                    vec![1, 494, 1],
                    vec![1, 495, 1],
                    vec![1, 496, 1],
                    vec![1, 497, 1],
                    vec![1, 498, 1],
                    vec![1, 499, 1],
                    vec![1, 500, 1],
                    vec![1, 501, 1],
                    vec![1, 502, 1],
                    vec![1, 503, 1],
                    vec![1, 504, 1],
                    vec![1, 505, 1],
                    vec![1, 506, 1],
                    vec![1, 507, 1],
                    vec![1, 508, 1],
                    vec![1, 509, 1],
                    vec![1, 510, 1],
                    vec![1, 511, 1],
                    vec![1, 512, 1],
                    vec![1, 513, 1],
                    vec![1, 514, 1],
                    vec![1, 515, 1],
                    vec![1, 516, 1],
                    vec![1, 517, 1],
                    vec![1, 518, 1],
                    vec![1, 519, 1],
                    vec![1, 520, 1],
                    vec![1, 521, 1],
                    vec![1, 522, 1],
                    vec![1, 523, 1],
                    vec![1, 524, 1],
                    vec![1, 525, 1],
                    vec![1, 526, 1],
                    vec![1, 527, 1],
                    vec![1, 528, 1],
                    vec![1, 529, 1],
                    vec![1, 530, 1],
                    vec![1, 531, 1],
                    vec![1, 532, 1],
                    vec![1, 533, 1],
                    vec![1, 534, 1],
                    vec![1, 535, 1],
                    vec![1, 536, 1],
                    vec![1, 537, 1],
                    vec![1, 538, 1],
                    vec![1, 539, 1],
                    vec![1, 540, 1],
                    vec![1, 541, 1],
                    vec![1, 542, 1],
                    vec![1, 543, 1],
                    vec![1, 544, 1],
                    vec![1, 545, 1],
                    vec![1, 546, 1],
                    vec![1, 547, 1],
                    vec![1, 548, 1],
                    vec![1, 549, 1],
                    vec![1, 550, 1],
                    vec![1, 551, 1],
                    vec![1, 552, 1],
                    vec![1, 553, 1],
                    vec![1, 554, 1],
                    vec![1, 555, 1],
                    vec![1, 556, 1],
                    vec![1, 557, 1],
                    vec![1, 558, 1],
                    vec![1, 559, 1],
                    vec![1, 560, 1],
                    vec![1, 561, 1],
                    vec![1, 562, 1],
                    vec![1, 563, 1],
                    vec![1, 564, 1],
                    vec![1, 565, 1],
                    vec![1, 566, 1],
                    vec![1, 567, 1],
                    vec![1, 568, 1],
                    vec![1, 569, 1],
                    vec![1, 570, 1],
                    vec![1, 571, 1],
                    vec![1, 572, 1],
                    vec![1, 573, 1],
                    vec![1, 574, 1],
                    vec![1, 575, 1],
                    vec![1, 576, 1],
                    vec![1, 577, 1],
                    vec![1, 578, 1],
                    vec![1, 579, 1],
                    vec![1, 580, 1],
                    vec![1, 581, 1],
                    vec![1, 582, 1],
                    vec![1, 583, 1],
                    vec![1, 584, 1],
                    vec![1, 585, 1],
                    vec![1, 586, 1],
                    vec![1, 587, 1],
                    vec![1, 588, 1],
                    vec![1, 589, 1],
                    vec![1, 590, 1],
                    vec![1, 591, 1],
                    vec![1, 592, 1],
                    vec![1, 593, 1],
                    vec![1, 594, 1],
                    vec![1, 595, 1],
                    vec![1, 596, 1],
                    vec![1, 597, 1],
                    vec![1, 598, 1],
                    vec![1, 599, 1],
                    vec![1, 600, 1],
                    vec![1, 601, 1],
                    vec![1, 602, 1],
                    vec![1, 603, 1],
                    vec![1, 604, 1],
                    vec![1, 605, 1],
                    vec![1, 606, 1],
                    vec![1, 607, 1],
                    vec![1, 608, 1],
                    vec![1, 609, 1],
                    vec![1, 610, 1],
                    vec![1, 611, 1],
                    vec![1, 612, 1],
                    vec![1, 613, 1],
                    vec![1, 614, 1],
                    vec![1, 615, 1],
                    vec![1, 616, 1],
                    vec![1, 617, 1],
                    vec![1, 618, 1],
                    vec![1, 619, 1],
                    vec![1, 620, 1],
                    vec![1, 621, 1],
                    vec![1, 622, 1],
                    vec![1, 623, 1],
                    vec![1, 624, 1],
                    vec![1, 625, 1],
                    vec![1, 626, 1],
                    vec![1, 627, 1],
                    vec![1, 628, 1],
                    vec![1, 629, 1],
                    vec![1, 630, 1],
                    vec![1, 631, 1],
                    vec![1, 632, 1],
                    vec![1, 633, 1],
                    vec![1, 634, 1],
                    vec![1, 635, 1],
                    vec![1, 636, 1],
                    vec![1, 637, 1],
                    vec![1, 638, 1],
                    vec![1, 639, 1],
                    vec![1, 640, 1],
                    vec![1, 641, 1],
                    vec![1, 642, 1],
                    vec![1, 643, 1],
                    vec![1, 644, 1],
                    vec![1, 645, 1],
                    vec![1, 646, 1],
                    vec![1, 647, 1],
                    vec![1, 648, 1],
                    vec![1, 649, 1],
                    vec![1, 650, 1],
                    vec![1, 651, 1],
                    vec![1, 652, 1],
                    vec![1, 653, 1],
                    vec![1, 654, 1],
                    vec![1, 655, 1],
                    vec![1, 656, 1],
                    vec![1, 657, 1],
                    vec![1, 658, 1],
                    vec![1, 659, 1],
                    vec![1, 660, 1],
                    vec![1, 661, 1],
                    vec![1, 662, 1],
                    vec![1, 663, 1],
                    vec![1, 664, 1],
                    vec![1, 665, 1],
                    vec![1, 666, 1],
                    vec![1, 667, 1],
                    vec![1, 668, 1],
                    vec![1, 669, 1],
                    vec![1, 670, 1],
                    vec![1, 671, 1],
                    vec![1, 672, 1],
                    vec![1, 673, 1],
                    vec![1, 674, 1],
                    vec![1, 675, 1],
                    vec![1, 676, 1],
                    vec![1, 677, 1],
                    vec![1, 678, 1],
                    vec![1, 679, 1],
                    vec![1, 680, 1],
                    vec![1, 681, 1],
                    vec![1, 682, 1],
                    vec![1, 683, 1],
                    vec![1, 684, 1],
                    vec![1, 685, 1],
                    vec![1, 686, 1],
                    vec![1, 687, 1],
                    vec![1, 688, 1],
                    vec![1, 689, 1],
                    vec![1, 690, 1],
                    vec![1, 691, 1],
                    vec![1, 692, 1],
                    vec![1, 693, 1],
                    vec![1, 694, 1],
                    vec![1, 695, 1],
                    vec![1, 696, 1],
                    vec![1, 697, 1],
                    vec![1, 698, 1],
                    vec![1, 699, 1],
                    vec![1, 700, 1],
                    vec![1, 701, 1],
                    vec![1, 702, 1],
                    vec![1, 703, 1],
                    vec![1, 704, 1],
                    vec![1, 705, 1],
                    vec![1, 706, 1],
                    vec![1, 707, 1],
                    vec![1, 708, 1],
                    vec![1, 709, 1],
                    vec![1, 710, 1],
                    vec![1, 711, 1],
                    vec![1, 712, 1],
                    vec![1, 713, 1],
                    vec![1, 714, 1],
                    vec![1, 715, 1],
                    vec![1, 716, 1],
                    vec![1, 717, 1],
                    vec![1, 718, 1],
                    vec![1, 719, 1],
                    vec![1, 720, 1],
                    vec![1, 721, 1],
                    vec![1, 722, 1],
                    vec![1, 723, 1],
                    vec![1, 724, 1],
                    vec![1, 725, 1],
                    vec![1, 726, 1],
                    vec![1, 727, 1],
                    vec![1, 728, 1],
                    vec![1, 729, 1],
                    vec![1, 730, 1],
                    vec![1, 731, 1],
                    vec![1, 732, 1],
                    vec![1, 733, 1],
                    vec![1, 734, 1],
                    vec![1, 735, 1],
                    vec![1, 736, 1],
                    vec![1, 737, 1],
                    vec![1, 738, 1],
                    vec![1, 739, 1],
                    vec![1, 740, 1],
                    vec![1, 741, 1],
                    vec![1, 742, 1],
                    vec![1, 743, 1],
                    vec![1, 744, 1],
                    vec![1, 745, 1],
                    vec![1, 746, 1],
                    vec![1, 747, 1],
                    vec![1, 748, 1],
                    vec![1, 749, 1],
                    vec![1, 750, 1],
                    vec![1, 751, 1],
                    vec![1, 752, 1],
                    vec![1, 753, 1],
                    vec![1, 754, 1],
                    vec![1, 755, 1],
                    vec![1, 756, 1],
                    vec![1, 757, 1],
                    vec![1, 758, 1],
                    vec![1, 759, 1],
                    vec![1, 760, 1],
                    vec![1, 761, 1],
                    vec![1, 762, 1],
                    vec![1, 763, 1],
                    vec![1, 764, 1],
                    vec![1, 765, 1],
                    vec![1, 766, 1],
                    vec![1, 767, 1],
                    vec![1, 768, 1],
                    vec![1, 769, 1],
                    vec![1, 770, 1],
                    vec![1, 771, 1],
                    vec![1, 772, 1],
                    vec![1, 773, 1],
                    vec![1, 774, 1],
                    vec![1, 775, 1],
                    vec![1, 776, 1],
                    vec![1, 777, 1],
                    vec![1, 778, 1],
                    vec![1, 779, 1],
                    vec![1, 780, 1],
                    vec![1, 781, 1],
                    vec![1, 782, 1],
                    vec![1, 783, 1],
                    vec![1, 784, 1],
                    vec![1, 785, 1],
                    vec![1, 786, 1],
                    vec![1, 787, 1],
                    vec![1, 788, 1],
                    vec![1, 789, 1],
                    vec![1, 790, 1],
                    vec![1, 791, 1],
                    vec![1, 792, 1],
                    vec![1, 793, 1],
                    vec![1, 794, 1],
                    vec![1, 795, 1],
                    vec![1, 796, 1],
                    vec![1, 797, 1],
                    vec![1, 798, 1],
                    vec![1, 799, 1],
                    vec![1, 800, 1],
                    vec![1, 801, 1],
                    vec![1, 802, 1],
                    vec![1, 803, 1],
                    vec![1, 804, 1],
                    vec![1, 805, 1],
                    vec![1, 806, 1],
                    vec![1, 807, 1],
                    vec![1, 808, 1],
                    vec![1, 809, 1],
                    vec![1, 810, 1],
                    vec![1, 811, 1],
                    vec![1, 812, 1],
                    vec![1, 813, 1],
                    vec![1, 814, 1],
                    vec![1, 815, 1],
                    vec![1, 816, 1],
                    vec![1, 817, 1],
                    vec![1, 818, 1],
                    vec![1, 819, 1],
                    vec![1, 820, 1],
                    vec![1, 821, 1],
                    vec![1, 822, 1],
                    vec![1, 823, 1],
                    vec![1, 824, 1],
                    vec![1, 825, 1],
                    vec![1, 826, 1],
                    vec![1, 827, 1],
                    vec![1, 828, 1],
                    vec![1, 829, 1],
                    vec![1, 830, 1],
                    vec![1, 831, 1],
                    vec![1, 832, 1],
                    vec![1, 833, 1],
                    vec![1, 834, 1],
                    vec![1, 835, 1],
                    vec![1, 836, 1],
                    vec![1, 837, 1],
                    vec![1, 838, 1],
                    vec![1, 839, 1],
                    vec![1, 840, 1],
                    vec![1, 841, 1],
                    vec![1, 842, 1],
                    vec![1, 843, 1],
                    vec![1, 844, 1],
                    vec![1, 845, 1],
                    vec![1, 846, 1],
                    vec![1, 847, 1],
                    vec![1, 848, 1],
                    vec![1, 849, 1],
                    vec![1, 850, 1],
                    vec![1, 851, 1],
                    vec![1, 852, 1],
                    vec![1, 853, 1],
                    vec![1, 854, 1],
                    vec![1, 855, 1],
                    vec![1, 856, 1],
                    vec![1, 857, 1],
                    vec![1, 858, 1],
                    vec![1, 859, 1],
                    vec![1, 860, 1],
                    vec![1, 861, 1],
                    vec![1, 862, 1],
                    vec![1, 863, 1],
                    vec![1, 864, 1],
                    vec![1, 865, 1],
                    vec![1, 866, 1],
                    vec![1, 867, 1],
                    vec![1, 868, 1],
                    vec![1, 869, 1],
                    vec![1, 870, 1],
                    vec![1, 871, 1],
                    vec![1, 872, 1],
                    vec![1, 873, 1],
                    vec![1, 874, 1],
                    vec![1, 875, 1],
                    vec![1, 876, 1],
                    vec![1, 877, 1],
                    vec![1, 878, 1],
                    vec![1, 879, 1],
                    vec![1, 880, 1],
                    vec![1, 881, 1],
                    vec![1, 882, 1],
                    vec![1, 883, 1],
                    vec![1, 884, 1],
                    vec![1, 885, 1],
                    vec![1, 886, 1],
                    vec![1, 887, 1],
                    vec![1, 888, 1],
                    vec![1, 889, 1],
                    vec![1, 890, 1],
                    vec![1, 891, 1],
                    vec![1, 892, 1],
                    vec![1, 893, 1],
                    vec![1, 894, 1],
                    vec![1, 895, 1],
                    vec![1, 896, 1],
                    vec![1, 897, 1],
                    vec![1, 898, 1],
                    vec![1, 899, 1],
                    vec![1, 900, 1],
                    vec![1, 901, 1],
                    vec![1, 902, 1],
                    vec![1, 903, 1],
                    vec![1, 904, 1],
                    vec![1, 905, 1],
                    vec![1, 906, 1],
                    vec![1, 907, 1],
                    vec![1, 908, 1],
                    vec![1, 909, 1],
                    vec![1, 910, 1],
                    vec![1, 911, 1],
                    vec![1, 912, 1],
                    vec![1, 913, 1],
                    vec![1, 914, 1],
                    vec![1, 915, 1],
                    vec![1, 916, 1],
                    vec![1, 917, 1],
                    vec![1, 918, 1],
                    vec![1, 919, 1],
                    vec![1, 920, 1],
                    vec![1, 921, 1],
                    vec![1, 922, 1],
                    vec![1, 923, 1],
                    vec![1, 924, 1],
                    vec![1, 925, 1],
                    vec![1, 926, 1],
                    vec![1, 927, 1],
                    vec![1, 928, 1],
                    vec![1, 929, 1],
                    vec![1, 930, 1],
                    vec![1, 931, 1],
                    vec![1, 932, 1],
                    vec![1, 933, 1],
                    vec![1, 934, 1],
                    vec![1, 935, 1],
                    vec![1, 936, 1],
                    vec![1, 937, 1],
                    vec![1, 938, 1],
                    vec![1, 939, 1],
                    vec![1, 940, 1],
                    vec![1, 941, 1],
                    vec![1, 942, 1],
                    vec![1, 943, 1],
                    vec![1, 944, 1],
                    vec![1, 945, 1],
                    vec![1, 946, 1],
                    vec![1, 947, 1],
                    vec![1, 948, 1],
                    vec![1, 949, 1],
                    vec![1, 950, 1],
                    vec![1, 951, 1],
                    vec![1, 952, 1],
                    vec![1, 953, 1],
                    vec![1, 954, 1],
                    vec![1, 955, 1],
                    vec![1, 956, 1],
                    vec![1, 957, 1],
                    vec![1, 958, 1],
                    vec![1, 959, 1],
                    vec![1, 960, 1],
                    vec![1, 961, 1],
                    vec![1, 962, 1],
                    vec![1, 963, 1],
                    vec![1, 964, 1],
                    vec![1, 965, 1],
                    vec![1, 966, 1],
                    vec![1, 967, 1],
                    vec![1, 968, 1],
                    vec![1, 969, 1],
                    vec![1, 970, 1],
                    vec![1, 971, 1],
                    vec![1, 972, 1],
                    vec![1, 973, 1],
                    vec![1, 974, 1],
                    vec![1, 975, 1],
                    vec![1, 976, 1],
                    vec![1, 977, 1],
                    vec![1, 978, 1],
                    vec![1, 979, 1],
                    vec![1, 980, 1],
                    vec![1, 981, 1],
                    vec![1, 982, 1],
                    vec![1, 983, 1],
                    vec![1, 984, 1],
                    vec![1, 985, 1],
                    vec![1, 986, 1],
                    vec![1, 987, 1],
                    vec![1, 988, 1],
                    vec![1, 989, 1],
                    vec![1, 990, 1],
                    vec![1, 991, 1],
                    vec![1, 992, 1],
                    vec![1, 993, 1],
                    vec![1, 994, 1],
                    vec![1, 995, 1],
                    vec![1, 996, 1],
                    vec![1, 997, 1],
                    vec![1, 998, 1],
                    vec![1, 999, 1],
                    vec![1, 1000, 1]
                ],
                1000,
            ),
            1,
        )
    }
}
